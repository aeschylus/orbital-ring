(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[967],{2917:(e,t,r)=>{Promise.resolve().then(r.bind(r,6651))},6651:(e,t,r)=>{"use strict";r.d(t,{F:()=>u,SimulationProvider:()=>c});var n=r(5896),a=r(224),i=r(1508),s=r(9329),o=r(6828);let m=(0,i.mj)({types:{},actors:{ticker:(0,s.SP)(e=>{let t,{sendBack:r}=e,n=performance.now(),a=e=>{let i=(e-n)/1e3;n=e,r({type:"TICK",delta:i}),t=requestAnimationFrame(a)};return t=requestAnimationFrame(a),()=>{cancelAnimationFrame(t)}})},actions:{advanceTime:(0,o.a)(e=>{let{context:t,event:r}=e;if("TICK"!==r.type)return{};let n=r.delta*t.speed;return{time:t.time+n,frameCount:t.frameCount+1}}),stepOnce:(0,o.a)(e=>{let{context:t}=e;return{time:t.time+t.timeStep,frameCount:t.frameCount+1}}),resetTime:(0,o.a)({time:0,frameCount:0}),setSpeed:(0,o.a)(e=>{let{event:t}=e;return"SET_SPEED"!==t.type?{}:{speed:t.speed}}),setParameter:(0,o.a)(e=>{let{context:t,event:r}=e;return"SET_PARAMETER"!==r.type?{}:{parameters:{...t.parameters,[r.key]:r.value}}})}}).createMachine({id:"simulation",initial:"loading",context:{time:0,timeStep:1/60,speed:1,frameCount:0,parameters:{mode:"tethered",altitude:32,ringMass:1e8,tetherCount:1e3,spinRate:.001,showForceVectors:!1,showAtmosphere:!0,showTethers:!0}},on:{SET_SPEED:{actions:"setSpeed"},SET_PARAMETER:{actions:"setParameter"}},states:{loading:{on:{LOADED:"idle"}},idle:{on:{PLAY:"running"}},running:{invoke:{src:"ticker",id:"ticker",input:e=>{let{}=e;return{}}},on:{TICK:{actions:"advanceTime"},PAUSE:"paused",RESET:{target:"idle",actions:"resetTime"}}},paused:{on:{PLAY:"running",STEP:{actions:"stepOnce"},RESET:{target:"idle",actions:"resetTime"}}}}}),u=(0,a.jv)(m);function c(e){let{children:t}=e;return(0,n.jsx)(u.Provider,{children:t})}}},e=>{e.O(0,[233,880,977,358],()=>e(e.s=2917)),_N_E=e.O()}]);