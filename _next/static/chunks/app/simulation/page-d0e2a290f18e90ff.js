(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4],{288:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(5896),n=s(182),r=s(6651);function i(){let e=r.F.useActorRef(),t=r.F.useSelector(e=>e.value),s=r.F.useSelector(e=>e.context.time),n=r.F.useSelector(e=>e.context.speed),i="running"===t;return(0,a.jsxs)("div",{className:"pointer-events-auto flex items-center gap-3 rounded-lg bg-black/70 px-4 py-2 backdrop-blur-sm",children:[(0,a.jsx)("button",{onClick:()=>e.send({type:i?"PAUSE":"PLAY"}),disabled:"loading"===t,className:"rounded bg-blue-600 px-3 py-1 text-sm font-medium transition-colors hover:bg-blue-500 disabled:opacity-50",children:i?"Pause":"Play"}),(0,a.jsx)("button",{onClick:()=>e.send({type:"STEP"}),disabled:"paused"!==t,className:"rounded bg-gray-600 px-3 py-1 text-sm transition-colors hover:bg-gray-500 disabled:opacity-50",children:"Step"}),(0,a.jsx)("button",{onClick:()=>e.send({type:"RESET"}),disabled:"idle"===t||"loading"===t,className:"rounded bg-gray-600 px-3 py-1 text-sm transition-colors hover:bg-gray-500 disabled:opacity-50",children:"Reset"}),(0,a.jsx)("div",{className:"mx-2 h-6 w-px bg-gray-600"}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-xs text-gray-300",children:["Speed",(0,a.jsxs)("select",{value:n,onChange:t=>e.send({type:"SET_SPEED",speed:Number(t.target.value)}),className:"rounded bg-gray-700 px-2 py-1 text-xs",children:[(0,a.jsx)("option",{value:.1,children:"0.1x"}),(0,a.jsx)("option",{value:1,children:"1x"}),(0,a.jsx)("option",{value:10,children:"10x"}),(0,a.jsx)("option",{value:100,children:"100x"}),(0,a.jsx)("option",{value:1e3,children:"1000x"})]})]}),(0,a.jsx)("div",{className:"mx-2 h-6 w-px bg-gray-600"}),(0,a.jsxs)("span",{className:"font-mono text-xs text-gray-400",children:["T: ",s.toFixed(2),"s"]}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:String(t)})]})}var o=s(9700),l=s(3684);function d(){let e=r.F.useActorRef(),t=r.F.useSelector(e=>e.context.parameters),s=(0,l.useRef)(!1),a=(t,a)=>{s.current||e.send({type:"SET_PARAMETER",key:t,value:a})};return(0,o._5)("Simulation",()=>({mode:{value:t.mode,options:{"Tethered Ring":"tethered","Orbital Ring":"orbital"},onChange:t=>{s.current||(e.send({type:"SET_PARAMETER",key:"mode",value:t}),e.send({type:"SET_PARAMETER",key:"altitude",value:"tethered"===t?32:400}))}},altitude:{value:t.altitude,min:10,max:1e3,step:1,suffix:" km",onChange:e=>a("altitude",e)},tetherCount:{value:t.tetherCount,min:0,max:5e3,step:10,label:"Tether Count",onChange:e=>a("tetherCount",e)},spinRate:{value:t.spinRate,min:0,max:.1,step:1e-4,label:"Spin Rate (rad/s)",onChange:e=>a("spinRate",e)}}),[t.mode]),(0,o._5)("Visibility",()=>({showAtmosphere:{value:t.showAtmosphere,label:"Atmosphere",onChange:e=>a("showAtmosphere",e)},showTethers:{value:t.showTethers,label:"Tethers",onChange:e=>a("showTethers",e)},showForceVectors:{value:t.showForceVectors,label:"Force Vectors",onChange:e=>a("showForceVectors",e)}}),[]),null}let c=(0,n.default)(()=>Promise.all([s.e(432),s.e(937),s.e(37),s.e(84),s.e(472),s.e(63)]).then(s.bind(s,6063)).then(e=>e.SimulationCanvas),{loadableGenerated:{webpack:()=>[6063]},ssr:!1,loading:()=>(0,a.jsx)(u,{})});function u(){return(0,a.jsx)("div",{className:"flex h-full items-center justify-center bg-black",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mb-4 h-8 w-8 animate-spin rounded-full border-2 border-blue-500 border-t-transparent mx-auto"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Initializing simulation..."})]})})}function m(){return(0,a.jsxs)("div",{className:"relative h-screen w-screen",children:[(0,a.jsx)(c,{}),(0,a.jsx)(d,{}),(0,a.jsx)("div",{className:"pointer-events-none absolute bottom-4 left-1/2 -translate-x-1/2",children:(0,a.jsx)(i,{})}),(0,a.jsxs)("div",{className:"pointer-events-none absolute left-4 top-4",children:[(0,a.jsx)("h2",{className:"text-sm font-semibold text-gray-300",children:"Orbital Ring Simulator"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Phase 1 â€” Ring Visualization"})]})]})}},6651:(e,t,s)=>{"use strict";s.d(t,{F:()=>d,SimulationProvider:()=>c});var a=s(5896),n=s(224),r=s(1508),i=s(9329),o=s(6828);let l=(0,r.mj)({types:{},actors:{ticker:(0,i.SP)(e=>{let t,{sendBack:s}=e,a=performance.now(),n=e=>{let r=(e-a)/1e3;a=e,s({type:"TICK",delta:r}),t=requestAnimationFrame(n)};return t=requestAnimationFrame(n),()=>{cancelAnimationFrame(t)}})},actions:{advanceTime:(0,o.a)(e=>{let{context:t,event:s}=e;if("TICK"!==s.type)return{};let a=s.delta*t.speed;return{time:t.time+a,frameCount:t.frameCount+1}}),stepOnce:(0,o.a)(e=>{let{context:t}=e;return{time:t.time+t.timeStep,frameCount:t.frameCount+1}}),resetTime:(0,o.a)({time:0,frameCount:0}),setSpeed:(0,o.a)(e=>{let{event:t}=e;return"SET_SPEED"!==t.type?{}:{speed:t.speed}}),setParameter:(0,o.a)(e=>{let{context:t,event:s}=e;return"SET_PARAMETER"!==s.type?{}:{parameters:{...t.parameters,[s.key]:s.value}}})}}).createMachine({id:"simulation",initial:"loading",context:{time:0,timeStep:1/60,speed:1,frameCount:0,parameters:{mode:"tethered",altitude:32,ringMass:1e8,tetherCount:1e3,spinRate:.001,showForceVectors:!1,showAtmosphere:!0,showTethers:!0}},on:{SET_SPEED:{actions:"setSpeed"},SET_PARAMETER:{actions:"setParameter"}},states:{loading:{on:{LOADED:"idle"}},idle:{on:{PLAY:"running"}},running:{invoke:{src:"ticker",id:"ticker",input:e=>{let{}=e;return{}}},on:{TICK:{actions:"advanceTime"},PAUSE:"paused",RESET:{target:"idle",actions:"resetTime"}}},paused:{on:{PLAY:"running",STEP:{actions:"stepOnce"},RESET:{target:"idle",actions:"resetTime"}}}}}),d=(0,n.jv)(l);function c(e){let{children:t}=e;return(0,a.jsx)(d.Provider,{children:t})}},7101:(e,t,s)=>{Promise.resolve().then(s.bind(s,288))}},e=>{e.O(0,[233,125,880,977,358],()=>e(e.s=7101)),_N_E=e.O()}]);